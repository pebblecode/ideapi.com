// Variables

$speechbox-width: 432px;
$speechbox-textarea-width: $speechbox-width - 14;

// Styles

#container #content .main{
  
  .comments{
    padding-top: 1em;
    padding-bottom: 1em;
    li{
      margin-top: 1em;
    }
  }
  .brief_item_question, 
  .author_answer, 
  .author_answer_form, 
  .question_form, 
  .comment{
    position: relative;
    clear: both;
  }
  
  .speech, .revision-body{
    width: $speechbox-width;
    margin: 0 auto;
    padding: 1em 1em;
    position: relative;
  }

  .speech{
    @include rounded-corners-all(3px);
    background: #e9e9e8;
  }
  
  
  .comment{
    .avatar{
      position: absolute;
      left: 2em;
      top: 0;
    }
  
    span.bubble {
      background: url(/images/ui/speech.png);
      width: 7px;
      height: 16px;
      display: block;
      position: absolute;
      left: -7px;
      top: 10px;
    }
    
    .speech{
      p{
        margin-bottom: 0.5em;
        margin-right: 1em;
      }
      textarea{
        width: $speechbox-textarea-width;
        max-width: $speechbox-textarea-width;
        min-width: $speechbox-textarea-width;
        margin: 0;
      }
      p.button{
        text-align: right;
        margin: 0.8em auto 0 auto;
      }
      #comment_submit{
        @extend .funky-button-small;
        font-size: 0.9em;
      }
    }
    .submit{
      width: $speechbox-width;
      margin: 0.5em auto;
      text-align: right;
    
      input[type=submit]{
        font-size: 0.9em;
        padding: 2px 10px;
      }
    }
    
  }
  
  .brief_item{
    .toggle_revision_body{
      cursor: pointer;
    }
    .delete-item-revision{
      float: right;
      margin-right: -0.5em;
    }
    .brief_item_activity{
      background: #f7f7f7;
      margin: 0;
      padding: 1em 0 1em 0;
    
      // this is an Unordered List
        .brief_item_history{
          margin: 0 auto 0 auto;
          padding: 0;
        }
        li{
          padding: 0 0 1em 0;
          margin: 0;
        }
        .revision-body{
          border: 1px dashed #ddd;
          margin: 0 auto;
          padding: 0.5em 1em;
          background: #fcfcfc;
          .close-button{
            display: none;
          }
          &:hover{
            .close-button{
              display: block;
            }
          }
          .info{
            h5{
              font-size: 1.1em;
            }
            .buttons{
              float: right;
              a{
                margin-left: 1em;
              }
            }
          }
        
          .body{
            display: none;
            clear: both;
          }
        }
      

        .submit{
          margin: 0;
          padding: 0;
          text-align: right;
        }
      
        .show_author_answer_form {
          margin: 0;
          padding: 0;
          position: relative;
        
          input[type=submit]{
            position: absolute;
            right: 10px;
            top: -2em;
            padding: 2px 3px;
          
          }
        }
      
        .brief_item_question, .question_form{
        
          .avatar{
            position: absolute;
            left: 2em;
            top: 0;
          }
        
          span.bubble {
            background: url(/images/ui/speech.png);
            width: 7px;
            height: 16px;
            display: block;
            position: absolute;
            left: -7px;
            top: 10px;
          }
        }
        .toggle_author_answer_form{
          display: block;
          width: 450px;
          text-align: right;
          margin: 3px auto 0 auto;
        }
        .author_answer, .author_answer_form{
          margin-top: 1em;
          .avatar{
            position: absolute;
            right: 1em;
            top: 1px;
          }
          span.bubble {
            background: url(/images/ui/speech.png) 8px 0;
            width: 7px;
            height: 16px;
            display: block;
            position: absolute;
            right: -7px;
            top: 20px;
          }
        }
        .author_answer_form{
          margin-top: 0.5em;
        }
      
        .author_answer_form, .question_form, .question-answer-form{
          img.spinner{
            display: inline;
          }
          .speech{
            padding-bottom: 10px;
            
            textarea{
              width: $speechbox-textarea-width;
              max-width: $speechbox-textarea-width;
              min-width: $speechbox-textarea-width;
              margin: 0;
              height: 80px;
            }
            p.button{
              text-align: right;
              margin: 0.8em auto 0 auto;
            }
            input[type=submit]{
              @extend .funky-button-small;
              font-size: 0.9em;
            }
          }
          .submit{
            width: $speechbox-width;
            margin: 0.5em auto;
            input[type=submit]{
              @extend .funky-button-small;
              font-size: 0.9em;
            }
          }
        }
      
        .question_form{
          .avatar{
            position: absolute;
            left: 1em;
            top: 0px;
          }
          span.bubble {
            top: 20px;
          }
        }
      }
  }
  
  .delete-comment {
    float: right;
    a {
      color: #aaaaaa;
      font-weight: normal;
      &:hover {
        color: #555555;
      }
    }
  }
  .author_answer_form, 
  .comment_form, .question_form{
    textarea{
      font-size: 1em;
      padding: 0.5em;
      
    }
  }
  
}

span.timestamp{
  color: #999;
  font-size: .85em;
  font-style: italic;
}

.brief_item_history{
  .speech{
    p{ margin: 0;}
    &:hover{
      .delete_question_form .question-delete, .delete-question-answer{
        display: block;
        border: none !important;
      }
    }
    .delete-question-answer{
      display: none;
    }
    .delete-question-answer-form{
      float: right;
    }
    .delete_question_form{
      float: right;
      .question-delete{
        display: none;
        background: transparent url('/images/ui/cross-button.png') no-repeat 0 0 !important;
        text-indent: -9999px;
        width: 16px;
        height: 16px;
      }
    }
  }
}
#comments_area{
  .delete_comment_form{
    float: right;
    display: none;
  }
  .speech:hover{
    .delete_comment_form{
      display: block;
    }
  }
}

.close-button{
  background: transparent url('/images/ui/cross-button.png') no-repeat 0 0 ;
  text-indent: -9999px;
  display: block;
  width: 16px;
  height: 16px;
  border: 0;
  padding: 0;
  cursor: pointer;
}

